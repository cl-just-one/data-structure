<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>实现strStr()</title>
</head>
<body>
   <script>
      // 方法一 遍历截取字符串对比
      const strStr = (haystack, needle) => {
         const hayLen = haystack.length;
         const nedLen = needle.length;

         if (!needle) {
            return 0;
         } else if (nedLen > hayLen) {
            return -1;
         } else if (nedLen == hayLen) {
            return haystack == needle ? 0 : -1;
         } else {
            for (let i = 0; i <= hayLen - nedLen; i++) {
               if (haystack[i] !== needle[0]) {
                  continue;
               }
               if (haystack.substring(i, i + nedLen) === needle) {
                  return i;
               }
            }
         }
         return -1;
      };

      let haystack = 'hello world';
      let needle = 'll';
      console.log(strStr(haystack, needle));

      // 方法二 双层循环对比字符
      const strStr1 = (haystack, needle) => {
         const hayLen = haystack.length;
         const nedLen = needle.length;

         if (!needle) {
            return 0;
         } else if (nedLen > hayLen) {
            return -1;
         } else if (nedLen === hayLen) {
            return needle === haystack ? 0 : -1;
         } else {
            for (let hasIndex = 0; hasIndex <= hayLen - nedLen; hasIndex++) {
               if (haystack[hasIndex] === needle[0]
                  && haystack[hasIndex + nedLen - 1] === needle[nedLen - 1]) {
                  if (nedLen === 1) {
                     return hasIndex;
                  }
                  for (let nedIndex = 1; nedIndex < nedLen; nedIndex++) {
                     if (haystack[hasIndex + nedIndex] !== needle[nedIndex]) {
                        break;
                     }
                     if (nedIndex == nedLen - 1) {
                        return hasIndex;
                     }
                  }
               }
            }
         }
         return -1;
      };

      let haystack1 = 'hello world';
      let needle1 = 'll';
      console.log(strStr1(haystack1, needle1));

   </script>
</body>
</html>