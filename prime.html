<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>计算质数</title>
</head>
<body>
   <script>
      // 方法一 暴力法
      function isPrime(n) { // 是否质数
         if (n == 2 || n == 3) {
            return true;
         }
         if (n % 6 != 1 && n % 6 != 5) {
            return false;
         }
         const sqrtN = Math.sqrt(n);
         for (let i = 3; i <= sqrtN; i += 2) {
            if (n % i == 0) {
               return false;
            }
         }
         return true;
      };
      const countPrimes = (n) => { // 返回质数数量
         let count = 0;
         for (let i = 2; i < n; i++) {
            if (isPrime(i)) {
               count++;
            }
         }
         return count;
      };
      console.log(countPrimes(10));
      console.log('-----------------');
      // 方法二 埃拉托斯特尼筛法
      const countPrimes1 = (n) => {
         let count = 0;
         const arr = new Uint8Array(n);
         for (let i = 2; i < n; i++) {
            if (!arr[i - 1]) {
               count++;
               for (let j = i * i; j <= n; j += i) {
                  arr[j - 1] = true;
               }
            }
         }
         return count;
      };
      console.log(countPrimes1(10));

   </script>
</body>
</html>